

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Mesoscale Activity Viewer &mdash; Mesoscale Activity Viewer 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Using the Activity Viewer" href="usage.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home" alt="Documentation Home"> Mesoscale Activity Viewer
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Using the Activity Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Mesoscale Activity Viewer</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>Mesoscale Activity Viewer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="toctree-wrapper compound">
</div>
<div class="section" id="mesoscale-activity-viewer">
<span id="about"></span><h1>Mesoscale Activity Viewer<a class="headerlink" href="#mesoscale-activity-viewer" title="Permalink to this headline">¶</a></h1>
<p>This is the new and improved unit viewer for the Mesoscale Activity Project.</p>
<div class="section" id="installing">
<span id="install"></span><h2>Installing<a class="headerlink" href="#installing" title="Permalink to this headline">¶</a></h2>
<p>For Windows users, head over to <a class="reference external" href="https://github.com/vidriotech/activity-viewer2/releases">Releases</a>
and select the latest version for an installer. Simply extract the zip file and double click
“Activity_Viewer_0.1.0.exe”.</p>
<p><strong>N.B.:</strong> This release has not been signed. If this concerns you, you can use the installation method
in the Development section below.</p>
<p>Mac and Linux users, until we can build and distribute binaries, you should also use the Development instructions
below.</p>
</div>
<div class="section" id="development">
<span id="install-develop"></span><h2>Development<a class="headerlink" href="#development" title="Permalink to this headline">¶</a></h2>
<div class="section" id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<p>We’ve tested this software on Python 3.7. It’s conceivable it could work on an
earlier version of Python 3, but we won’t support it. I strongly recommend
using <a class="reference external" href="https://www.anaconda.com/">Anaconda</a>. Windows users will want to use
the Anaconda Prompt. Linux and Mac users should be able to get by with your
favorite terminal emulator.</p>
<p>We use <a class="reference external" href="https://virtualenv.pypa.io/en/stable/">virtualenv</a> to create a local
Python environment. If you’re using Anaconda, <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">virtualenv</span></code>
should get it for you. If you don’t like Anaconda, you can do
<code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--user</span> <span class="pre">virtualenv</span></code> instead.</p>
<p>You’ll also need to have <a class="reference external" href="https://nodejs.org/en/">Node.js</a> 12 or later with
<a class="reference external" href="https://yarnpkg.com/">Yarn</a> installed. After installing Node,
<code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">-g</span> <span class="pre">yarn</span></code> will get Yarn for you.</p>
</div>
<div class="section" id="setting-up">
<h3>Setting up<a class="headerlink" href="#setting-up" title="Permalink to this headline">¶</a></h3>
<p>Make sure your Python interpreter is the one you’re expecting:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; $ which python3 <span class="c1"># where.exe python3 on Windows</span>
/home/alan/anaconda3/bin/python3
</pre></div>
</div>
<p>Once you’ve satisfied yourself that this is the correct Python, create and
activate a new virtual environment, then install dependencies:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; $ python3 -m pip install --user virtualenv
&gt; $ python3 -m virtualenv venv
&gt; $ . venv/bin/activate <span class="c1"># on Windows: .\venv\Scripts\activate</span>
<span class="o">(</span>venv<span class="o">)</span> &gt; $ python3 -m pip install -U -r requirements.txt -r requirements-dev.txt
<span class="o">(</span>venv<span class="o">)</span> &gt; $ python3 -m pip install -e .
<span class="o">(</span>venv<span class="o">)</span> &gt; $ <span class="nb">cd</span> app <span class="o">&amp;&amp;</span> yarn install <span class="o">&amp;&amp;</span> <span class="nb">cd</span> .. <span class="c1"># on Windows: cd app; yarn install; cd ..</span>
</pre></div>
</div>
<p>After all the dependencies are installed, do a quick sanity check:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>venv<span class="o">)</span> &gt; $ pytest <span class="c1"># or tox (slower, but sets up a self-contained environment) if you prefer</span>
</pre></div>
</div>
<p>Now you can start hacking.</p>
</div>
<div class="section" id="running-the-viewer">
<h3>Running the viewer<a class="headerlink" href="#running-the-viewer" title="Permalink to this headline">¶</a></h3>
<p>If you installed the binary on Windows, you should see an Activity Viewer entry in your Start menu.
Simply double-click that and the viewer will start up.</p>
<p>Otherwise, you’ll need two terminals.
In the first terminal, activate your virtualenv and run <code class="docutils literal notranslate"><span class="pre">viewerd</span> <span class="pre">start-daemon</span></code>.
In the second terminal, <code class="docutils literal notranslate"><span class="pre">cd</span></code> into the app/ directory and run <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">start</span></code>.
After a few moments, the frontend process will fully load.</p>
<p>On startup, the viewer prompts you to load a settings file or some data files, which you can do by
selecting the appropriate option from the File menu.
Selecting only data files will use the default settings, or you can specify data files within your settings file.</p>
<p>For a description of the formats of the settings and data files, please read
<a class="reference external" href="https://vidriotech.github.io/activity-viewer2/usage.html#input-files">this section</a> of the docs.</p>
</div>
<div class="section" id="current-limitations-and-known-issues">
<h3>Current limitations and known issues<a class="headerlink" href="#current-limitations-and-known-issues" title="Permalink to this headline">¶</a></h3>
<div class="section" id="choppy-camera-motion-when-dev-tools-are-engaged">
<h4>Choppy camera motion when dev tools are engaged<a class="headerlink" href="#choppy-camera-motion-when-dev-tools-are-engaged" title="Permalink to this headline">¶</a></h4>
<p>Moving the brain about in the viewer window may lag a bit when the dev tools
are being displayed. If you don’t care about console output, simply close the
dev tools.</p>
</div>
<div class="section" id="python-3-8">
<h4>Python 3.8<a class="headerlink" href="#python-3-8" title="Permalink to this headline">¶</a></h4>
<p>On Windows (we haven’t tried on Linux or macOS), trying to install dependencies
via <code class="docutils literal notranslate"><span class="pre">pip</span></code> will throw something like the following error with Python 3.8 on
building the statsmodels wheel:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="ne">ModuleNotFoundError</span><span class="p">:</span> <span class="n">No</span> <span class="n">module</span> <span class="n">named</span> <span class="s1">&#39;numpy&#39;</span>
</pre></div>
</div>
<p>As a workaround, if you do</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>venv<span class="o">)</span> &gt; $ python3 -m pip install <span class="nv">numpy</span><span class="o">==</span><span class="m">1</span>.8.5
<span class="o">(</span>venv<span class="o">)</span> &gt; $ python3 -m pip install -U -r requirements.txt -r requirements-dev.txt
</pre></div>
</div>
<p>the dependencies should install correctly. You may also need to install the
latest <a class="reference external" href="https://visualstudio.microsoft.com/visual-cpp-build-tools/">C++ Build Tools</a>.</p>
</div>
</div>
</div>
<div class="section" id="acknowledgments">
<h2>Acknowledgments<a class="headerlink" href="#acknowledgments" title="Permalink to this headline">¶</a></h2>
<p>This work was supported by the Mesoscale Activity Project.
Parts of the UI code, especially the WebGL shaders, are based off of or otherwise inspired by work done previously by
Patrick Edson for the <a class="reference external" href="https://ml-neuronbrowser.janelia.org/">Mouselight Neuron Browser</a>.</p>
</div>
</div>
<div class="section" id="quickstart">
<span id="id1"></span><h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<p>After you’ve installed the Activity Viewer, head over to the
<a class="reference internal" href="usage.html#usage"><span class="std std-ref">Usage</span></a> section to learn more about how to work with your data.</p>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="usage.html" class="btn btn-neutral float-right" title="Using the Activity Viewer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Alan Liddell

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>